<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MERRY CHRISTMAS</title>
    <link rel="stylesheet" href="styles.css" />
  </head>

  <body>
    <div id="as" class="christmas-message">Merry Christmas</div>
    <div class="tree-container">
      <img
        src="https://github.com/Panbap/datapanbap/blob/main/image/big_tree.png?raw=true"
        alt="C√¢y th√¥ng"
        class="tree-icon"
      />
    </div>

    <div class="container">
      <button id="showButton">Thi·ªáp n√®</button>
    </div>

    <div id="guideInfo" class="hidden">
      <button id="closeButton" class="close-btn">X</button>
      <div id="ax" class="card">
        <div class="imgBox">
          <div class="bark"></div>
          <img
            src="https://github.com/Panbap/datapanbap/blob/main/image/mery.png?raw=true"
          />
        </div>
        <div class="details">
          <h4 class="color2 margin">(MERRY CHRISTMAS)</h4>
          <p>Noel is comming and</p>
          <p>what I need is a No-end Love</p>
          <p>Ch√∫c em m√πa l·ªÖ ·∫•m √°p v√† ng·ªçt</p>
          <p>ng√†o nh∆∞ t√¨nh y√™u c·ªßa ch√∫ng ta.</p>
          <p>Hy v·ªçng ch√∫ng ta s·∫Ω c√≥ th√™m nhi·ªÅu</p>
          <p>k·ª∑ ni·ªám ƒë·∫πp trong nƒÉm t·ªõi.</p>
          <p class="text-right">Ch√∫c m·ª´ng Gi√°ng Sinh!</p>
          <p class="text-right">Ch√∫c em ng·ªß ngon</p>
        </div>
      </div>
    </div>
    <script>
      // T·∫°o ƒë·ªëi t∆∞·ª£ng Audio v·ªõi file nh·∫°c ban ƒë·∫ßu
      const audio = new Audio("./nhac.mp3");
      let isMusicPlaying = false;
      let oldMusicTime = 0; // Bi·∫øn l∆∞u v·ªã tr√≠ d·ª´ng nh·∫°c c≈©

      // H√†m ph√°t nh·∫°c
      function startExperience() {
        if (!isMusicPlaying) {
          audio.play(); // Ph√°t nh·∫°c
          audio.loop = true; // L·∫∑p l·∫°i nh·∫°c li√™n t·ª•c
          isMusicPlaying = true;
          console.log("üéµ Nh·∫°c ƒëang ph√°t!");
        }
      }

      // H√†m d·ª´ng nh·∫°c hi·ªán t·∫°i v√† ph√°t nh·∫°c m·ªõi
      function changeMusic() {
        // L∆∞u l·∫°i v·ªã tr√≠ hi·ªán t·∫°i c·ªßa nh·∫°c c≈©
        oldMusicTime = audio.currentTime;

        // D·ª´ng nh·∫°c hi·ªán t·∫°i v√† chuy·ªÉn sang nh·∫°c m·ªõi
        audio.pause();
        audio.currentTime = 0; // ƒê·∫∑t l·∫°i v·ªã tr√≠ ph√°t nh·∫°c m·ªõi v·ªÅ ƒë·∫ßu
        audio.src = "./nn3.mp3";
        audio.loop = false; // Kh√¥ng l·∫∑p l·∫°i nh·∫°c m·ªõi
        audio.play();
        console.log("üéµ Nh·∫°c m·ªõi ƒëang ph√°t!");

        // L·∫Øng nghe s·ª± ki·ªán khi nh·∫°c m·ªõi k·∫øt th√∫c
        audio.onended = function () {
          console.log(
            "üéµ Nh·∫°c m·ªõi ƒë√£ k·∫øt th√∫c. Ph√°t ti·∫øp nh·∫°c c≈© t·ª´ v·ªã tr√≠ d·ª´ng."
          );
          audio.src = "./nhac.mp3"; // G√°n l·∫°i nh·∫°c c≈©
          audio.currentTime = oldMusicTime; // Ph√°t ti·∫øp t·ª´ v·ªã tr√≠ d·ª´ng tr∆∞·ªõc ƒë√≥
          audio.loop = true; // L·∫∑p l·∫°i nh·∫°c c≈©
          audio.play(); // Ph√°t ti·∫øp nh·∫°c c≈©
        };
      }

      // L·∫Øng nghe s·ª± ki·ªán click tr√™n to√†n b·ªô m√†n h√¨nh ƒë·ªÉ ph√°t nh·∫°c ƒë·∫ßu ti√™n
      document.body.addEventListener("click", function () {
        startExperience();
      });

      // L·∫Øng nghe s·ª± ki·ªán click v√†o "Ch√∫c em ng·ªß ngon" b√™n trong th·∫ª .details
      document
        .querySelector(".details")
        .addEventListener("click", function (event) {
          if (event.target.classList.contains("text-right")) {
            changeMusic();
          }
        });
    </script>
    <script src="script.js"></script>
  </body>
</html>
